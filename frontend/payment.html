<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Payment</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<!-- HEADER -->
<div class="cart-header">
  <h2>Select Payment Method</h2>
</div>

<!-- PAYMENT OPTIONS -->
<div class="payment-options">
  <label class="pay-option upi">
    <input type="radio" name="pay" value="upi">
    UPI (GPay / PhonePe / Paytm)
  </label>

  <label class="pay-option">
    <input type="radio" name="pay" value="card">
    Credit / Debit Card
  </label>

  <label class="pay-option cod">
    <input type="radio" name="pay" value="cod">
    Cash on Delivery
  </label>
</div>

<!-- PAYMENT BAR -->
<div class="payment-bar">
  <div class="pay-summary">
    <span>Total</span>
    <strong>â‚¹<span id="payTotal">0</span></strong>
  </div>

  <button id="payBtn" onclick="placeOrder()" disabled>
    Pay & Place Order
  </button>
</div>

<script>
/* LOAD TOTAL FROM CART */
const cart = JSON.parse(localStorage.getItem("cart")) || {};
let total = 0;

Object.values(cart).forEach(item => {
  total += item.price * item.qty;
});

const gst = Math.round(total * 0.05);
const grandTotal = total + gst + 40;

document.getElementById("payTotal").innerText = grandTotal;

/* ENABLE BUTTON ON SELECTION */
document.querySelectorAll('input[name="pay"]').forEach(radio => {
  radio.addEventListener("change", () => {
    document.getElementById("payBtn").disabled = false;
  });
});

/* PLACE ORDER */
function placeOrder() {
  localStorage.removeItem("cart");
  window.location.href = "order-success.html";
}
</script>

</body>
</html>
